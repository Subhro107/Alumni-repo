<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alumni Connect - Student Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="common.css">
</head>
<body>
    <!-- Top Header -->
    <div class="top-header">
        <div class="logo-section">
            <div class="logo">
                <div class="logo-icon">AU</div>
                <span class="logo-text">Alumni Connect</span>
            </div>
        </div>
        
        <div class="header-right">
            <div class="search-bar">
                <input type="text" class="search-input" placeholder="Search alumni, events...">
                <i class="fas fa-search search-icon"></i>
            </div>
            <button class="notification-icon">
                <i class="fas fa-bell"></i>
                <span class="notification-badge">1</span>
            </button>
            <div class="user-info">
                <div class="user-avatar">ðŸ‘¤</div>
                <span class="user-name">Student-1</span>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <a href="student_dashboard.html" class="nav-item active">
                <i class="fas fa-th-large"></i>
                Dashboard
            </a>
            <a href="student_directory.html" class="nav-item">
                <i class="fas fa-users"></i>
                Alumni Directory
            </a>
            <a href="student_events.html" class="nav-item">
                <i class="fas fa-calendar"></i>
                Events
            </a>
            <a href="students_forum.html" class="nav-item">
                <i class="fas fa-comments"></i>
                Forums
            </a>
            <a href="students_mentor.html" class="nav-item">
                <i class="fas fa-handshake"></i>
                Mentorship
            </a>
            <a href="students_career.html" class="nav-item">
                <i class="fas fa-briefcase"></i>
                Career Center
            </a>
            <a href="students_profile.html" class="nav-item active">
                    <i class="fas fa-user-cog"></i>
                    Profile Settings
                </a>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <div class="welcome-section">
                <h1 class="welcome-title">Welcome back, student!</h1>
                <p class="welcome-subtitle">Here's what's happening in your alumni network</p>
            </div>

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-header">
                        <span class="stat-title">Total Alumni</span>
                        <div class="stat-icon blue">
                            <i class="fas fa-users"></i>
                        </div>
                    </div>
                    <div class="stat-number">1</div>
                    <div class="stat-description">Registered in the platform</div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <span class="stat-title">Upcoming Events</span>
                        <div class="stat-icon green">
                            <i class="fas fa-calendar"></i>
                        </div>
                    </div>
                    <div class="stat-number">0</div>
                    <div class="stat-description">This month</div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <span class="stat-title">New Messages</span>
                        <div class="stat-icon orange">
                            <i class="fas fa-envelope"></i>
                        </div>
                    </div>
                    <div class="stat-number">0</div>
                    <div class="stat-description">Unread messages</div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <span class="stat-title">Job Opportunities</span>
                        <div class="stat-icon teal">
                            <i class="fas fa-briefcase"></i>
                        </div>
                    </div>
                    <div class="stat-number">0</div>
                    <div class="stat-description">Active postings</div>
                </div>
            </div>

            <!-- Content Grid -->
            <div class="content-grid">
                <!-- Recent Activity -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">
                            <i class="fas fa-bell section-icon"></i>
                            Recent Activity
                        </h2>
                    </div>
                    <div class="activity-list">
                        <div class="activity-item">
                            <div class="activity-dot blue"></div>
                            <div class="activity-content">
                                <h4>New alumni registration</h4>
                                <p>Sarah Johnson (Class of 2020) joined</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-dot green"></div>
                            <div class="activity-content">
                                <h4>Upcoming event reminder</h4>
                                <p>Annual Alumni Gala â€¢ 2 weeks away</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-dot orange"></div>
                            <div class="activity-content">
                                <h4>New mentorship match</h4>
                                <p>You've been matched with a student</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">Quick Actions</h2>
                    </div>
                    <div class="actions-list">
                        <div class="actions-grid">
                            <button class="action-card blue">
                                <div class="action-icon blue">
                                    <i class="fas fa-search"></i>
                                </div>
                                <div class="action-text">Find Alumni</div>
                            </button>
                            <button class="action-card green">
                                <div class="action-icon green">
                                    <i class="fas fa-calendar-plus"></i>
                                </div>
                                <div class="action-text">View Events</div>
                            </button>
                            <button class="action-card orange">
                                <div class="action-icon orange">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <div class="action-text">Connect</div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="../assets/js/app.js"></script>
    <script>
        // Ensure logout function is available
        function handleLogout() {
            if (window.loginManager && typeof window.loginManager.logout === 'function') {
                window.loginManager.logout();
            } else {
                // Fallback: clear session and redirect manually
                localStorage.removeItem('userSession');
                window.location.href = '../index.html';
            }
        }

        // Add hover and focus effects for logout button
        document.addEventListener('DOMContentLoaded', function() {
            const logoutBtn = document.querySelector('.logout-btn');
            if (logoutBtn) {
                logoutBtn.addEventListener('mouseenter', function() {
                    this.style.backgroundColor = '#dc2626';
                });
                logoutBtn.addEventListener('mouseleave', function() {
                    this.style.backgroundColor = '#ef4444';
                });
                logoutBtn.addEventListener('focus', function() {
                    this.style.outline = '2px solid #007AFF';
                    this.style.outlineOffset = '2px';
                });
                logoutBtn.addEventListener('blur', function() {
                    this.style.outline = 'none';
                });
            }
        });
    </script>
    <script src="common.js"></script>
    <script>
        // =================== DASHBOARD SPECIFIC FUNCTIONALITY ===================
// This file extends the common utilities with dashboard-specific features

// Dashboard-specific initialization
document.addEventListener('DOMContentLoaded', function() {
    initializeDashboardFeatures();
    updateDashboardStats();
    initializeDashboardAnimations();
});

function initializeDashboardFeatures() {
    // Dashboard-specific quick actions
    document.querySelectorAll('.action-card').forEach(card => {
        card.addEventListener('click', function() {
            const text = this.querySelector('.action-text').textContent;
            handleDashboardAction(text);
        });
    });

    // Enhanced activity items for dashboard
    document.querySelectorAll('.activity-item').forEach(item => {
        item.addEventListener('click', function() {
            const title = this.querySelector('h4').textContent;
            showActivityDetails(title);
        });
    });

    // Simulated data updates (for demo purposes)
    setInterval(updateDashboardStats, 30000); // Update every 30 seconds
    
    // Real-time notifications badge animation
    setTimeout(() => {
        simulateDashboardActivity();
    }, 10000);
}

function handleDashboardAction(actionText) {
    console.log(`Dashboard action: ${actionText}`);
    
    const dashboardActions = {
        'Find Alumni': () => {
            showNotification('Redirecting to Alumni Directory...', 'info');
            setTimeout(() => navigateTo('student_directory.html'), 1000);
        },
        'View Events': () => {
            showNotification('Loading Events...', 'info');
            setTimeout(() => navigateTo('student_events.html'), 1000);
        },
        'Connect': () => {
            showConnectModal();
        }
    };
    
    const action = dashboardActions[actionText];
    if (action) {
        action();
    } else {
        showNotification(`${actionText} - Feature coming soon!`, 'info');
    }
}

function showActivityDetails(activityTitle) {
    const activityDetails = {
        'New alumni registration': {
            title: 'New Alumni Registration',
            content: 'Sarah Johnson (Class of 2020) has joined the platform. She is currently working as a Software Engineer at Google.',
            action: () => navigateTo('student_directory.html#sarah-johnson')
        },
        'Upcoming event reminder': {
            title: 'Annual Alumni Gala',
            content: 'The Annual Alumni Gala is scheduled for two weeks from now. This is a great opportunity to network with successful alumni.',
            action: () => navigateTo('student_events.html#alumni-gala')
        },
        'New mentorship match': {
            title: 'Mentorship Opportunity',
            content: 'You have been matched with a mentor based on your career interests. Check your mentorship dashboard for details.',
            action: () => navigateTo('students_mentor.html')
        }
    };
    
    const details = activityDetails[activityTitle];
    if (details) {
        showModal(
            details.title,
            `<p>${details.content}</p>`,
            [
                { text: 'View Details', action: () => { closeCurrentModal(); details.action(); }, className: 'btn-primary' },
                { text: 'Close', action: 'closeCurrentModal', className: 'btn-ghost' }
            ]
        );
    } else {
        showNotification(`Viewing: ${activityTitle}`, 'info');
    }
}

function updateDashboardStats() {
    // Simulate real-time stats updates
    const stats = {
        totalAlumni: Math.floor(Math.random() * 10) + 1,
        upcomingEvents: Math.floor(Math.random() * 3),
        newMessages: Math.floor(Math.random() * 5),
        jobOpportunities: Math.floor(Math.random() * 8)
    };
    
    // Update stat numbers with animation
    updateStatCard('.stat-card:nth-child(1) .stat-number', stats.totalAlumni);
    updateStatCard('.stat-card:nth-child(2) .stat-number', stats.upcomingEvents);
    updateStatCard('.stat-card:nth-child(3) .stat-number', stats.newMessages);
    updateStatCard('.stat-card:nth-child(4) .stat-number', stats.jobOpportunities);
}

function updateStatCard(selector, newValue) {
    const element = document.querySelector(selector);
    if (element && element.textContent !== newValue.toString()) {
        element.style.transform = 'scale(1.1)';
        element.style.color = '#007AFF';
        
        setTimeout(() => {
            element.textContent = newValue;
            element.style.transform = 'scale(1)';
            element.style.color = '#333';
        }, 200);
    }
}

function simulateDashboardActivity() {
    // Add new activity to the activity list
    const activityList = document.querySelector('.activity-list');
    if (activityList) {
        const activities = [
            {
                title: 'New job posting',
                description: 'Software Developer position at Tech Corp',
                dot: 'blue'
            },
            {
                title: 'Event registration opened',
                description: 'Career Fair 2024 â€¢ Registration now open',
                dot: 'green'
            },
            {
                title: 'New forum post',
                description: 'Discussion started in Career Advice',
                dot: 'orange'
            }
        ];
        
        const randomActivity = activities[Math.floor(Math.random() * activities.length)];
        
        const newActivityItem = document.createElement('div');
        newActivityItem.className = 'activity-item';
        newActivityItem.innerHTML = `
            <div class="activity-dot ${randomActivity.dot}"></div>
            <div class="activity-content">
                <h4>${randomActivity.title}</h4>
                <p>${randomActivity.description}</p>
            </div>
        `;
        
        // Add click handler
        newActivityItem.addEventListener('click', function() {
            showActivityDetails(randomActivity.title);
        });
        
        // Insert at the beginning
        activityList.insertBefore(newActivityItem, activityList.firstChild);
        
        // Remove last item if more than 3
        const items = activityList.querySelectorAll('.activity-item');
        if (items.length > 3) {
            activityList.removeChild(items[items.length - 1]);
        }
        
        // Animate new item
        newActivityItem.style.opacity = '0';
        newActivityItem.style.transform = 'translateX(-20px)';
        
        setTimeout(() => {
            newActivityItem.style.transition = 'all 0.3s ease';
            newActivityItem.style.opacity = '1';
            newActivityItem.style.transform = 'translateX(0)';
        }, 100);
        
        // Add notification
        addNotification('New Activity', randomActivity.description);
    }
    
    // Schedule next activity
    if (Math.random() > 0.3) {
        setTimeout(simulateDashboardActivity, Math.random() * 60000 + 30000);
    }
}

function initializeDashboardAnimations() {
    // Stagger animation for stat cards
    const statCards = document.querySelectorAll('.stat-card');
    statCards.forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        
        setTimeout(() => {
            card.style.transition = 'all 0.4s ease';
            card.style.opacity = '1';
            card.style.transform = 'translateY(0)';
        }, index * 100);
    });
    
    // Animate content sections
    const contentSections = document.querySelectorAll('.content-section');
    contentSections.forEach((section, index) => {
        section.style.opacity = '0';
        section.style.transform = 'translateY(30px)';
        
        setTimeout(() => {
            section.style.transition = 'all 0.5s ease';
            section.style.opacity = '1';
            section.style.transform = 'translateY(0)';
        }, 500 + (index * 200));
    });
}

// Dashboard-specific welcome message
function showWelcomeMessage() {
    const hour = new Date().getHours();
    let greeting = 'Good evening';
    
    if (hour < 12) {
        greeting = 'Good morning';
    } else if (hour < 18) {
        greeting = 'Good afternoon';
    }
    
    const welcomeTitle = document.querySelector('.welcome-title');
    if (welcomeTitle) {
        welcomeTitle.textContent = `${greeting}, student!`;
    }
    
    // Show welcome notification on first visit
    if (!localStorage.getItem('hasVisited')) {
        setTimeout(() => {
            showNotification('Welcome to Alumni Connect! Explore the features to get started.', 'success');
            localStorage.setItem('hasVisited', 'true');
        }, 2000);
    }
}

// Initialize welcome message
document.addEventListener('DOMContentLoaded', showWelcomeMessage);
    </script>
</body>
</html>